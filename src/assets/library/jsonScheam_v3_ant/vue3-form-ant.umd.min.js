/** @license @lljj/vue3-form-ant (c) 2020-2024 Liu.Jun License: Apache-2.0 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("vue"),require("@lljj/vjsf-utils/vue3Utils"),require("@lljj/vjsf-utils/schema/getDefaultFormState"),require("@lljj/vjsf-utils/utils"),require("@lljj/vjsf-utils/formUtils"),require("@lljj/vjsf-utils/schema/retriev"),require("@lljj/vjsf-utils/components/FieldGroupWrap.vue"),require("@lljj/vjsf-utils/icons"),require("@lljj/vjsf-utils/schema/validate"),require("@lljj/vjsf-utils/arrayUtils")):"function"==typeof define&&define.amd?define(["exports","vue","@lljj/vjsf-utils/vue3Utils","@lljj/vjsf-utils/schema/getDefaultFormState","@lljj/vjsf-utils/utils","@lljj/vjsf-utils/formUtils","@lljj/vjsf-utils/schema/retriev","@lljj/vjsf-utils/components/FieldGroupWrap.vue","@lljj/vjsf-utils/icons","@lljj/vjsf-utils/schema/validate","@lljj/vjsf-utils/arrayUtils"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).vue3FormAnt={},e.Vue,e.vueUtils,e.getDefaultFormState,e.utils,e.formUtils,e.retrieveSchema,e.FieldGroupWrap,e.icons,e.validate,e.arrayMethods)}(this,(function(e,t,r,n,a,o,i,u,l,c,s){"use strict";function m(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function d(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(r){if("default"!==r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})}})),t.default=e,Object.freeze(t)}var p=d(r),f=m(n),h=d(o),v=m(i),y=m(u),g=d(c);function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?O(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,u=e[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,o=e}finally{try{n||null==u.return||u.return()}finally{if(a)throw o}}return r}(e,t)||C(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||C(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){if(e){if("string"==typeof e)return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?w(e,t):void 0}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function D(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}var k={formFooter:{type:Object,default:function(){return{show:!0,okBtn:"保存",cancelBtn:"取消"}}},modelValue:{type:null,default:function(){return{}},required:!0},fallbackLabel:{type:Boolean,default:!1},strictMode:{type:Boolean,default:!1},formProps:{type:Object,default:function(){return{}}},schema:{type:Object,default:function(){return{}},required:!0},uiSchema:{type:Object,default:function(){return{}}},customFormats:{type:Object,default:function(){return{}}},customRule:{type:Function,default:null},errorSchema:{type:Object,default:function(){return{}}}},N={name:"FormFooter",props:{okBtn:{type:String,default:"保存"},okBtnProps:{type:Object,default:function(){return{}}},cancelBtn:{type:String,default:"取消"},formItemAttrs:{type:Object,default:function(){return{}}},globalOptions:{type:Object,default:function(){return{}}}},emits:["cancel","submit"],setup:function(e,n){var a=n.emit,o=e.globalOptions.COMPONENT_MAP;return function(){return t.h(r.resolveComponent(o.formItem),P({class:{formFooter_item:!0}},e.formItemAttrs),{default:function(){return[t.h(r.resolveComponent(o.button),{onClick:function(){a("cancel")}},{default:function(){return e.cancelBtn}}),t.h(r.resolveComponent(o.button),P({style:{marginLeft:"10px"},type:"primary",onClick:function(){a("submit")}},e.okBtnProps),{default:function(){return e.okBtn}})]}})}}},I={formProps:{type:null},globalOptions:{type:null},schema:{type:Object,default:function(){return{}}},uiSchema:{type:Object,default:function(){return{}}},errorSchema:{type:Object,default:function(){return{}}},customRule:{type:Function,default:null},customFormats:{type:Object,default:function(){return{}}},rootSchema:{type:Object,default:function(){return{}}},rootFormData:{type:null,default:function(){return{}}},curNodePath:{type:String,default:""},required:{type:Boolean,default:!1},needValidFieldGroup:{type:Boolean,default:!0}},x={name:"Widget",props:{isFormData:{type:Boolean,default:!0},curValue:{type:null,default:0},schema:{type:Object,default:function(){return{}}},uiSchema:{type:Object,default:function(){return{}}},errorSchema:{type:Object,default:function(){return{}}},customFormats:{type:Object,default:function(){return{}}},customRule:{type:Function,default:null},widget:{type:[String,Function,Object],default:null},required:{type:Boolean,default:!1},uiRequired:{type:Boolean},emptyValue:{type:null,default:void 0},rootFormData:{type:null},curNodePath:{type:String,default:""},label:{type:String,default:""},width:{type:String,default:""},labelWidth:{type:String,default:""},description:{type:String,default:""},widgetAttrs:{type:Object,default:function(){return{}}},widgetClass:{type:Object,default:function(){return{}}},widgetStyle:{type:Object,default:function(){return{}}},fieldAttrs:{type:Object,default:function(){return{}}},fieldClass:{type:Object,default:function(){return{}}},fieldStyle:{type:Object,default:function(){return{}}},uiProps:{type:Object,default:function(){return{}}},formProps:null,getWidget:null,renderScopedSlots:null,globalOptions:null,onChange:null},emits:["otherDataChange"],inheritAttrs:!0,setup:function(e,n){var a=n.emit,i=t.inject("genFormProvide"),u=t.computed({get:function(){return e.isFormData?r.getPathVal(e.rootFormData,e.curNodePath):e.curValue},set:function(t){var n=""===t||null===t?e.emptyValue:t;e.isFormData?r.setPathVal(e.rootFormData,e.curNodePath,n):a("otherDataChange",n)}}),s=t.computed((function(){var t;return null!==(t=e.uiRequired)&&void 0!==t?t:e.required}));e.uiProps.enumOptions&&e.uiProps.enumOptions.length>0&&void 0===u.value&&u.value!==e.uiProps.enumOptions[0]&&(e.schema.items?u.value=[]:s.value&&e.formProps.defaultSelectFirstOption&&(u.value=e.uiProps.enumOptions[0].value));var m=t.ref(null);return"function"==typeof e.getWidget&&t.watch(m,(function(){e.getWidget.call(null,m.value)})),function(){var n,a=r.isRootNodePath(e.curNodePath),d=e.formProps&&e.formProps.isMiniDes,p=null!=d?d:e.globalOptions.HELPERS.isMiniDes(e.formProps),f=e.description?t.h("div",{innerHTML:e.description,class:{genFromWidget_des:!0,genFromWidget_des_mini:p}}):null,h=e.globalOptions.COMPONENT_MAP,v=p&&f?t.h(r.resolveComponent(h.popover),P({style:{margin:"0 2px",fontSize:"16px",cursor:"pointer"},placement:"top",trigger:"hover"},null===(n=e.formProps)||void 0===n?void 0:n.popover),{default:function(){return f},reference:function(){return t.h(l.IconQuestion)}}):null,y=P(P({},e.fieldStyle),e.width?{width:e.width,flexBasis:e.width,paddingRight:"10px"}:{}),g=o.fallbackLabel(e.label,e.widget&&i.fallbackLabel.value,e.curNodePath);return t.h(r.resolveComponent(h.formItem),P(P(P({class:P(P({},e.fieldClass),{},{genFormItem:!0}),style:y},e.fieldAttrs),{},{description:e.description,_title:g},e.labelWidth?{labelWidth:e.labelWidth}:{}),e.isFormData?{prop:a?"__$$root":r.path2prop(e.curNodePath),rules:[{validator:function(t,n,o){a&&(n=e.rootFormData);var i=c.validateFormDataAndTransformMsg({formData:n,schema:e.schema,uiSchema:e.uiSchema,customFormats:e.customFormats,errorSchema:e.errorSchema,required:s.value,propPath:r.path2prop(e.curNodePath)});if(i.length>0)return o?o(i[0].message):Promise.reject(i[0].message);var u=e.customRule;return u&&"function"==typeof u?u({field:e.curNodePath,value:n,rootFormData:e.rootFormData,callback:o}):o?o():Promise.resolve()},trigger:"change"}]}:{}),P(P({error:function(e){return e.error?t.h("div",{class:{formItemErrorBox:!0},title:e.error},[e.error]):null}},g?{label:function(){return t.h("span",{class:{genFormLabel:!0,genFormItemRequired:s.value}},["".concat(g)].concat(j(v?[v]:[]),["".concat(e.formProps&&e.formProps.labelSuffix||"")]))}}:{}),{},{default:function(n){return[].concat(j(!p&&f?[f]:[]),j(e.widget?[t.h(r.resolveComponent(e.widget),P(P(P({style:e.widgetStyle,class:e.widgetClass},e.widgetAttrs),e.uiProps),{},{modelValue:u.value,ref:m,"onUpdate:modelValue":function(t){var n=u.value;n!==t&&(u.value=t,e.onChange&&e.onChange({curVal:t,preVal:n,parentFormData:r.getPathVal(e.rootFormData,e.curNodePath,1),rootFormData:e.rootFormData}))}},n?Object.keys(n).reduce((function(t,r){return t[r]=n[r],[e.widgetAttrs[r],e.uiProps[r]].forEach((function(e){e&&"function"==typeof e&&(t[r]=function(){e.apply(void 0,arguments),t[r].apply(t,arguments)})})),t}),{}):{}),P({},e.renderScopedSlots?"function"==typeof e.renderScopedSlots?e.renderScopedSlots():e.renderScopedSlots:{}))]:[]))}}))}}},A={name:"ObjectField",props:I,setup:function(e){return function(){var n=e.curNodePath,i=o.getUiOptions({schema:e.schema,uiSchema:e.uiSchema,curNodePath:n,rootFormData:e.rootFormData}),u=i.title,l=i.description,c=i.showTitle,s=i.showDescription,m=i.order,d=i.fieldClass,p=i.fieldAttrs,f=i.fieldStyle,h=i.onlyShowIfDependent,v=Object.keys(e.schema.properties||{}),g=o.orderProperties(v,m).map((function(o){var i=function(t){return Array.isArray(e.schema.required)&&!!~e.schema.required.indexOf(t)}(o),u=function(t){var n=!1,o=!1;return a.isObject(e.schema.dependencies)&&(o=Object.entries(e.schema.dependencies).some((function(a){var o=F(a,2),i=o[0],u=o[1],l=!(!Array.isArray(u)||!~u.indexOf(t));return n=n||l,l&&void 0!==r.getPathVal(e.rootFormData,e.curNodePath)[i]}))),{isDependency:n,curDependent:o}}(o),l=u.isDependency,c=u.curDependent;return l&&h&&!c?null:t.h($,P(P({key:o},e),{},{schema:e.schema.properties[o],uiSchema:e.uiSchema[o],errorSchema:e.errorSchema[o],required:i||c,curNodePath:r.computedCurPath(n,o)}))}));return t.h(y.default,P({title:u,description:l,showTitle:c,showDescription:s,curNodePath:n,class:P({},d),style:f},p),{default:function(){return[].concat(j(g),j(e.needValidFieldGroup?[t.h(x,{key:"validateWidget-object",class:{validateWidget:!0,"validateWidget-object":!0},schema:Object.entries(e.schema).reduce((function(t,r){var n=F(r,2),a=n[0],o=n[1];return!1!==e.schema.additionalProperties&&["properties","id","$id"].includes(a)||(t[a]=o),t}),{}),uiSchema:e.uiSchema,errorSchema:e.errorSchema,curNodePath:n,rootFormData:e.rootFormData,globalOptions:e.globalOptions})]:[]))}})}}},T={name:"StringField",props:I,setup:function(e,r){var n=r.attrs,a=t.computed((function(){var t=o.isSelect(e.schema)&&o.optionsList(e.schema,e.uiSchema,e.curNodePath,e.rootFormData),r=o.getWidgetConfig({schema:e.schema,uiSchema:e.uiSchema,curNodePath:e.curNodePath,rootFormData:e.rootFormData},(function(){var r="number"===e.schema.type||"integer"===e.schema.type;return{widget:t?e.globalOptions.WIDGET_MAP.common.select:e.globalOptions.WIDGET_MAP.formats[e.schema.format]||(r?e.globalOptions.WIDGET_MAP.types.number:e.globalOptions.WIDGET_MAP.types.string)}}));return t&&!r.uiProps.enumOptions&&(r.uiProps.enumOptions=t),r}));return function(){return t.h(x,P(P(P({},e),n),a.value))}}},W={name:"NumberField",props:I,setup:function(e,r){var n=r.attrs;return function(){return t.h(T,P(P({},e),n))}}},V={name:"IntegerField",props:I,setup:function(e,r){var n=r.attrs;return function(){return t.h(T,P(P({},e),n))}}},L={name:"BooleanField",props:I,setup:function(e,r){var n=r.attrs;return function(){var r=e.schema,a=e.uiSchema,i=e.curNodePath,u=e.rootFormData,l=e.globalOptions,c=o.optionsList({enumNames:r.enumNames||["true","false"],enum:r.enum||[!0,!1]},a,i,u),s=o.getWidgetConfig({schema:r,uiSchema:a,curNodePath:i,rootFormData:u},(function(){return{widget:l.WIDGET_MAP.types.boolean}}));return s.uiProps.enumOptions=s.uiProps.enumOptions||c,t.h(x,P(P(P({},n),e),s))}}},M={name:"ArrayOrderList",emits:["arrayOperate"],props:{vNodeList:{type:Array,default:[]},tupleItemsLength:{type:Number,default:0},addable:{type:Boolean,default:!0},showIndexNumber:{type:Boolean,default:!1},sortable:{type:Boolean,default:!0},removable:{type:Boolean,default:!0},maxItems:{},minItems:{},globalOptions:null},setup:function(e,r){var n=r.emit,a=t.computed((function(){var t=e.addable,r=e.maxItems,n=e.vNodeList;return!!t&&(void 0!==r?n.length<r:!!r)})),o=t.computed((function(){var t=e.removable,r=e.minItems,n=e.vNodeList;return!!t&&(void 0===r||n.length>r)}));return function(){return e.vNodeList.length<=0&&!e.addable?null:t.h("div",{class:{arrayOrderList:!0}},t.h("div",{class:{arrayOrderListContent:!0}},e.vNodeList.map((function(r,i){var u=r.key,c=r.vNode,s=e.tupleItemsLength+i,m=i+1;return t.h("div",{key:u,class:{arrayOrderList_item:!0}},[e.showIndexNumber?t.h("div",{class:{arrayListItem_index:!0}},m):null,t.h("div",{style:P({},e.sortable&&i!==e.vNodeList.length-1?{}:{display:"none"}),class:{arrayListItem_operateTool:!0}},[t.h("button",{style:P({},e.sortable?{}:{display:"none"}),class:{arrayListItem_btn:!0,"arrayListItem_orderBtn-top":!0},type:"button",disabled:!e.sortable||0===i,onClick:function(){n("arrayOperate",{command:"moveUp",data:{index:s}})}},[t.h(l.IconCaretUp)]),t.h("button",{style:P({},e.sortable?{}:{display:"none"}),class:{arrayListItem_btn:!0,"arrayListItem_orderBtn-bottom":!0},type:"button",disabled:!e.sortable||i===e.vNodeList.length-1,onClick:function(){n("arrayOperate",{command:"moveDown",data:{index:s}})}},[t.h(l.IconCaretDown)]),t.h("button",{style:P({},e.removable?{}:{display:"none"}),class:{arrayListItem_btn:!0,"arrayListItem_btn-delete":!0},type:"button",disabled:!o.value,onClick:function(){n("arrayOperate",{command:"remove",data:{index:s}})}},[t.h(l.IconClose)])]),t.h("div",P(P({},a.value?{}:{paddingTop:"0px"}),{},{class:{arrayListItem_content:!0}}),[c])])}))),t.h("div",{style:P({},a.value?{}:{display:"none"}),class:{arrayOrderList_bottomAddBtn:!0}},[t.h("div",{class:{bottomAddBtn:!0,"is-plain":!0,genFormBtn:!0,"addOption-btn":!0},onClick:function(){n("arrayOperate",{command:"add"})}},[t.h(l.IconPlus,{style:{marginRight:"5px"}}),e.maxItems?"添加更多(".concat(e.vNodeList.length," / ").concat(e.maxItems?e.maxItems:"∞",")"):""])]))}}},_={name:"ArrayFieldNormal",props:P(P({},I),{},{itemsFormData:{type:Array}}),setup:function(e,n){var a=n.attrs;return function(){var n=e.schema,i=e.uiSchema,u=e.curNodePath,l=e.rootFormData,c=e.itemsFormData,s=e.errorSchema,m=e.globalOptions,d=o.getUiOptions({schema:n,uiSchema:i,curNodePath:u,rootFormData:l}),p=d.title,f=d.description,h=d.addable,v=d.showIndexNumber,g=d.sortable,b=d.removable,O=d.showTitle,S=d.showDescription,F=d.fieldClass,j=d.fieldAttrs,C=d.fieldStyle,w=c.map((function(a,l){var c=o.replaceArrayIndex({schema:n.items,uiSchema:i.items},l);return{key:a.key,vNode:t.h($,P(P({key:a.key},e),{},{schema:n.items,required:![].concat(n.items.type).includes("null"),uiSchema:P(P({},i.items),c),errorSchema:s.items,curNodePath:r.computedCurPath(u,l)}))}}));return t.h(y.default,{title:p,description:f,showTitle:O,showDescription:S,curNodePath:u,class:F,attrs:j,style:C},{default:function(){return t.h(M,P(P({},a),{},{vNodeList:w,showIndexNumber:v,addable:h,sortable:g,removable:b,maxItems:n.maxItems||n.maxUniqueItems,minItems:n.minItems||n.minUniqueItems,globalOptions:m}))}})}}},E={name:"ArrayFieldMultiSelect",props:P({},I),setup:function(e,r){var n=r.attrs;return function(){var r=e.schema,a=e.rootSchema,i=e.uiSchema,u=e.curNodePath,l=e.rootFormData,c=e.globalOptions,s=v.default(r.items,a),m=o.optionsList(s,i,u,l),d=o.getWidgetConfig({schema:r,uiSchema:i,curNodePath:u,rootFormData:l},(function(){return{widget:c.WIDGET_MAP.common.checkboxGroup}}));return d.uiProps.multiple=!0,m&&!d.uiProps.enumOptions&&(d.uiProps.enumOptions=m),t.h(x,P(P(P({},n),e),d))}}},B={name:"ArrayFieldTuple",props:P(P({},I),{},{itemsFormData:{type:Array,default:function(){return[]}}}),emits:["arrayOperate"],setup:function(e,n){var a=n.emit;n.attrs;return function(){var t=!Array.isArray(e.itemsFormData);if(t||e.itemsFormData.length<e.schema.items.length){var r=f.default(e.schema,void 0,e.rootSchema);a("arrayOperate",t?{command:"setNewTarget",data:{newTarget:r}}:{command:"batchPush",data:{pushArray:r.slice(e.itemsFormData.length)}})}}(),function(){if(!Array.isArray(e.itemsFormData))return null;var n=e.schema,i=e.uiSchema,u=e.errorSchema,l=e.curNodePath,c=e.globalOptions,m=o.getUiOptions({schema:n,uiSchema:i,curNodePath:l,rootFormData:e.rootFormData}),d=m.title,p=m.description,f=m.addable,h=m.showIndexNumber,v=m.sortable,g=m.removable,b=m.showTitle,O=m.showDescription,S=m.fieldClass,F=m.fieldAttrs,C=m.fieldStyle,w=s.cutOff(e.itemsFormData,e.schema.items.length-1),D=w[0].map((function(a,o){return t.h($,P(P({key:a.key},e),{},{required:![].concat(n.items[o].type).includes("null"),schema:n.items[o],uiSchema:i.items?i.items[o]:{},errorSchema:u.items?u.items[o]:{},curNodePath:r.computedCurPath(l,o)}))})),k=w[1].map((function(a,l){var c=o.replaceArrayIndex({schema:n.additionalItems,uiSchema:i.additionalItems},l);return{key:a.key,vNode:t.h($,P(P({key:a.key},e),{},{schema:n.additionalItems,required:![].concat(n.additionalItems.type).includes("null"),uiSchema:P(P({},i.additionalItems),c),errorSchema:u.additionalItems,curNodePath:r.computedCurPath(e.curNodePath,l+n.items.length)}))}})),N=(void 0===f||f)&&o.allowAdditionalItems(e.schema);return t.h(y.default,P(P({title:d,description:p,showTitle:b,showDescription:O,curNodePath:l},F),{},{class:S,style:C}),{default:function(){return[].concat(j(D),[t.h(M,{onArrayOperate:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return a.apply(void 0,["arrayOperate"].concat(t))},vNodeList:k,tupleItemsLength:n.items.length,addable:N,showIndexNumber:h,sortable:v,removable:g,maxItems:n.maxItems||n.maxUniqueItems,minItems:n.minItems||n.minUniqueItems,globalOptions:c})])}})}}},q={name:"ArrayFieldSpecialFormat",props:I,setup:function(e,r){var n=r.attrs,a=t.computed((function(){return o.getWidgetConfig({schema:P({"ui:widget":e.globalOptions.WIDGET_MAP.formats[e.schema.format]},e.schema),uiSchema:e.uiSchema,curNodePath:e.curNodePath,rootFormData:e.rootFormData})}));return function(){return t.h(x,P(P(P({},n),e),a.value))}}},R={name:"ArrayField",props:I,setup:function(e){var n=this,i=function(){var t=e.rootFormData,n=e.curNodePath,a=r.getPathVal(t,n);return Array.isArray(a)?a:[]},u=t.ref(i().map((function(){return a.genId()}))),l=t.computed((function(){return i()}));t.watch(l,(function(e,r){e!==r&&t.toRaw(e)!==t.toRaw(r)&&Array.isArray(e)&&(u.value=e.map((function(){return a.genId()})))}),{deep:!0});var c=t.computed((function(){return l.value.map((function(e,t){return{key:u.value[t],value:e}}))})),m=t.computed((function(){return o.getUserUiOptions({schema:e.schema,uiSchema:e.uiSchema,curNodePath:e.curNodePath,rootFormData:e.rootFormData})})),d=function(t){var i=t.command,c=t.data,d={moveUp:function(e,t){var r=t.index;s.moveUpAt(e,r)},moveDown:function(e,t){var r=t.index;s.moveDownAt(e,r)},remove:function(e,t){var r=t.index;s.removeAt(e,r)},add:function(e,t){var r=t.newRowData;e.unshift(r)},batchPush:function(e,t){t.pushArray.forEach((function(t){e.unshift(t)}))},setNewTarget:function(e,t){var n=t.formData,a=t.nodePath,o=t.newTarget;r.setPathVal(n,a,o)}}[i];if(!d)throw new Error("错误 - 未知的操作：[".concat(i,"]"));var p,h,v,y=c,g=c;"add"===i?(y={newRowData:(p=e.schema,h=e.rootSchema,v=p.items,o.isFixedItems(p)&&o.allowAdditionalItems(p)&&(v=p.additionalItems),f.default(v,void 0,h))},g={newRowData:a.genId()}):"batchPush"===i?g={pushArray:y.pushArray.map((function(e){return a.genId()}))}:"setNewTarget"===i&&(y={formData:e.rootFormData,nodePath:e.curNodePath,newTarget:y.newTarget},g={formData:u,nodePath:"value",newTarget:y.newTarget.map((function(e){return a.genId()}))}),d.apply(null,[u.value,g]),d.apply(null,[l.value,y]),m.value.afterArrayOperate&&n.uiOptions.afterArrayOperate.call(null,l.value,i,c)};return function(){var r=e.schema,n=e.uiSchema,i=e.rootSchema,u=e.rootFormData,l=e.curNodePath,s=e.globalOptions;if(!r.hasOwnProperty("items"))throw new Error("[".concat(r,"] 请先定义 items属性"));if(o.isMultiSelect(r,i))return t.h(E,P(P({},e),{},{class:b({},a.lowerCase(E.name),!0)}));if(r.format||r["ui:widget"]||n["ui:widget"])return t.h(q,P(P({},e),{},{class:b({},a.lowerCase(q.name),!0)}));var m=o.isFixedItems(r)?B:_;return t.h("div",[t.h(m,P(P({itemsFormData:c.value},e),{},{onArrayOperate:d,class:b({},a.lowerCase(m.name),!0)})),e.needValidFieldGroup?t.h(x,{key:"validateWidget-array",class:{validateWidget:!0,"validateWidget-array":!0},schema:Object.entries(r).reduce((function(e,t){var r=F(t,2),n=r[0],a=r[1];return"items"!==n&&(e[n]=a),e}),{}),uiSchema:n,errorSchema:e.errorSchema,curNodePath:l,rootFormData:u,globalOptions:s}):null])}}},U={name:"SelectLinkageField",props:P(P({},I),{},{combiningType:{type:String,default:"anyOf"},selectList:{type:Array,require:!0}}),setup:function(e){var n,i=t.ref((n=r.getPathVal(e.rootFormData,e.curNodePath),c.getMatchingOption(n,e.selectList,e.rootSchema,!0)||0)),u=function(){var r,n=o.getWidgetConfig({schema:e.schema["".concat(e.combiningType,"Select")]||{},uiSchema:e.uiSchema["".concat(e.combiningType,"Select")]||{},curNodePath:e.curNodePath,rootFormData:e.rootFormData},(function(){return{widget:"SelectWidget"}}));if(n.label=n.label||e.schema.title,n.description=n.description||e.schema.description,!n.uiProps.enumOptions){var a=e.uiSchema[e.combiningType]||[];n.uiProps.enumOptions=e.selectList.map((function(t,r){var n=o.getUiOptions({schema:t,uiSchema:a[r],containsSpec:!1}),i="";return"anyOf"===e.combiningType?i=0===r?"自定义输入":"固有选项":"oneOf"===e.combiningType&&(i=0===r?"日期":"日期（时分秒）"),{label:n.title||i,value:r}}))}return t.h(x,P(P({key:"fieldSelect_".concat(e.combiningType),class:(r={},b(r,"fieldSelect_".concat(e.combiningType),!0),b(r,"Custom_Options",!0),r),isFormData:!1,curValue:i.value,curNodePath:e.curNodePath,rootFormData:e.rootFormData,globalOptions:e.globalOptions},n),{},{onOtherDataChange:function(e){i.value=e}}))};return t.watch(i,(function(t,n){var o=r.getPathVal(e.rootFormData,e.curNodePath),i=f.default(e.selectList[t],void 0,e.rootSchema),u=Object.prototype.hasOwnProperty;if(a.isObject(o)){var l=v.default(e.selectList[n],e.rootSchema);if("object"===a.getSchemaType(l))for(var s in l.properties)u.call(l.properties,s)&&!u.call(i,s)&&r.deletePathVal(o,s)}a.isObject(i)?Object.entries(i).forEach((function(n){var i,u=F(n,2),l=u[0],c=u[1];void 0===c||void 0!==o[l]&&!a.isObject(c)&&void 0===(null===(i=v.default(e.selectList[t],e.rootSchema).properties[l])||void 0===i?void 0:i.const)||r.setPathVal(o,l,c)})):r.setPathVal(e.rootFormData,e.curNodePath,void 0===i&&c.isValid(v.default(e.selectList[t],e.rootSchema),o)?o:i)})),function(){var n,l=e.curNodePath,c=r.nodePath2ClassName(l),s="object"===e.schema.type||e.schema.properties,m=[u()],d=e.selectList[i.value];if(d){var p=e.schema,f=e.combiningType,h="".concat(e.combiningType,"Select");p.properties,p[f],p[h];var v=S(p,["properties",f,h].map(D));d=Object.assign({},v,d)}var y=s&&a.isEmptyObject(d&&d.properties);if(d&&!y){var g=a.filterObject(o.getUiOptions({schema:e.schema,uiSchema:e.uiSchema,containsSpec:!1,curNodePath:l,rootFormData:e.rootFormData}),(function(t){return t===e.combiningType?void 0:"ui:".concat(t)})),O=a.filterObject(o.getUserErrOptions({schema:e.schema,uiSchema:e.uiSchema,errorSchema:e.errorSchema}),(function(t){return t===e.combiningType?void 0:"err:".concat(t)}));m.unshift(t.h($,P(P({key:"appendSchema_".concat(e.combiningType)},e),{},{schema:P({"ui:showTitle":!1,"ui:showDescription":!1},d),required:e.required,uiSchema:P(P({},g),(e.uiSchema[e.combiningType]||[])[i.value]),errorSchema:P(P({},O),(e.errorSchema[e.combiningType]||[])[i.value])})))}var F=null;if(s&&!a.isEmptyObject(e.schema.properties)){var j,C=d;C.title,C.description,C.properties;var w=S(C,["title","description","properties"]),k=Object.assign({},e.schema,w);delete k[e.combiningType],F=t.h($,P(P({key:"origin_".concat(e.combiningType),class:(j={},b(j,"".concat(e.combiningType,"_originBox"),!0),b(j,"".concat(c,"-originBox"),!0),j)},e),{},{schema:k}))}return m.unshift(t.h(x,{key:"validateWidget-".concat(e.combiningType),class:b({validateWidget:!0},"validateWidget-".concat(e.combiningType),!0),schema:e.schema,uiSchema:e.uiSchema,errorSchema:e.errorSchema,curNodePath:e.curNodePath,rootFormData:e.rootFormData,globalOptions:e.globalOptions})),t.h("div",[F,t.h("div",{key:"appendBox_".concat(e.combiningType),class:(n={appendCombining_box:!0},b(n,"".concat(e.combiningType,"_appendBox"),!0),b(n,"".concat(c,"-appendBox"),!0),n)},m)])}}},G={array:R,boolean:L,integer:V,number:W,object:A,string:T,null:{render:function(){return null}},anyOf:{name:"AnyOfField",setup:function(e,r){var n=r.attrs,a=r.slots;return function(){return t.h(U,P(P({},n),{},{combiningType:"anyOf",selectList:n.schema.anyOf}),a)}}},oneOf:{name:"oneOfField",setup:function(e,r){var n=r.attrs,a=r.slots;return function(){return t.h(U,P(P({},n),{},{combiningType:"oneOf",selectList:n.schema.oneOf}),a)}}}},$={name:"SchemaField",props:I,setup:function(e){return function(){var n,i=v.default(e.schema,e.rootSchema),u=P(P({},e),{},{schema:i});if(0===Object.keys(i).length)return null;var l,c,s=o.getUiField(G,u),m=s.field,d=s.fieldProps,p=o.isHiddenWidget({schema:i,uiSchema:e.uiSchema,curNodePath:e.curNodePath,rootFormData:e.rootFormData}),f=r.nodePath2ClassName(e.curNodePath);return i.anyOf&&i.anyOf.length>0&&!o.isSelect(i)?t.h(r.resolveComponent(G.anyOf),P({class:(l={},b(l,"".concat(f,"-anyOf"),!0),b(l,"fieldItem",!0),b(l,"anyOfField",!0),l)},u)):i.oneOf&&i.oneOf.length>0&&!o.isSelect(i)?t.h(r.resolveComponent(G.oneOf),P({class:(c={},b(c,"".concat(f,"-oneOf"),!0),b(c,"fieldItem",!0),b(c,"oneOfField",!0),c)},u)):m&&!p?t.h(r.resolveComponent(m),P(P({},u),{},{fieldProps:d,class:(n={},b(n,a.lowerCase(m.name)||m,!0),b(n,"hiddenWidget",p),b(n,"fieldItem",!0),b(n,f,!0),n)})):null}}};function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={name:"VueForm",props:k,emits:["update:modelValue","change","cancel","submit","validation-failed","form-mounted"],setup:function(o,i){var u=i.slots,l=i.emit,c=t.getCurrentInstance();!n.installed&&e.WIDGET_MAP.widgetComponents&&(Object.entries(e.WIDGET_MAP.widgetComponents).forEach((function(e){var t=F(e,2),r=t[0],n=t[1];return c.appContext.app.component(r,n)})),n.installed=!0);var s=t.toRef(o,"fallbackLabel");t.provide("genFormProvide",{fallbackLabel:s});var m=t.ref(f.default(o.schema,o.modelValue,o.schema,o.strictMode)),d=t.computed((function(){return P({show:!0,okBtn:"保存",okBtnProps:{},cancelBtn:"取消"},o.formFooter)})),p=null,h=function(e,t){l("update:modelValue",e),l("change",{newValue:e,oldValue:t})},v=function(e,t){if(!a.deepEquals(e,t)){var r=f.default(o.schema,o.modelValue,o.schema,o.strictMode);a.deepEquals(m.value,r)||(m.value=r)}};t.watch(m,(function(e,t){h(e,t)}),{deep:!0}),t.watch((function(){return o.schema}),(function(e,t){v(e,t)})),t.watch((function(){return o.modelValue}),(function(e,t){v(e,t)})),h(m.value,o.modelValue);return function(){var n,a=o.formProps,i=a.layoutColumn,s=void 0===i?1:i,f=a.inlineFooter;a.labelSuffix,a.isMiniDes,a.defaultSelectFirstOption,a.popover;var h=S(a,["layoutColumn","inlineFooter","labelSuffix","isMiniDes","defaultSelectFirstOption","popover"]),v=h.inline,y=void 0!==v&&v,g=h.labelPosition,O=void 0===g?"top":g,F={schema:o.schema,uiSchema:o.uiSchema,errorSchema:o.errorSchema,customFormats:o.customFormats,customRule:o.customRule,rootSchema:o.schema,rootFormData:m.value,curNodePath:"",globalOptions:e,formProps:P({labelPosition:O,labelSuffix:"：",defaultSelectFirstOption:!0,inline:y},o.formProps)};return t.h(r.resolveComponent(e.COMPONENT_MAP.form),P({class:(n={genFromComponent:!0,formInlineFooter:f,formInline:y},b(n,"genFromComponent_".concat(o.schema.id,"Form"),!!o.schema.id),b(n,"layoutColumn",!y),b(n,"layoutColumn-".concat(s),!y),n),setFormRef:function(e){p=e,c.ctx.$$uiFormRef=p,l("form-mounted",e,{formData:m.value})},onSubmit:function(e){e.preventDefault()},model:m,labelPosition:O,inline:y},h),{default:function(){return[t.h($,F),u.default?u.default({formData:m,formRefFn:function(){return p}}):d.value.show?t.h(N,{globalOptions:e,okBtn:d.value.okBtn,okBtnProps:d.value.okBtnProps,cancelBtn:d.value.cancelBtn,formItemAttrs:d.value.formItemAttrs,onCancel:function(){l("cancel")},onSubmit:function(){(p.$$validate||p.validate)((function(e,t){return e?l("submit",m):l("validation-failed",t)}))}}):[]]}})}},install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.component(t.name||n.name,n)}};return n}var H={$$currentLocalizeFn:function(e){if(e&&e.length)for(var t=0;t<e.length;t+=1){var r=e[t],n=void 0,a=void 0,o=void 0;switch(r.keyword){case"$ref":n="无法找到引用".concat(r.params.ref);break;case"additionalItems":n="",a=r.params.limit,n+="不允许超过".concat(a,"个元素");break;case"additionalProperties":n="不允许有额外的属性";break;case"anyOf":n="数据应为 anyOf 所指定的其中一个";break;case"const":n="应当等于常量";break;case"contains":n="应当包含一个有效项";break;case"custom":n='应当通过 "'.concat(r.keyword,' 关键词校验"');break;case"dependencies":n="",a=r.params.depsCount,n+="应当拥有属性".concat(r.params.property,"的依赖属性").concat(r.params.deps);break;case"enum":n="应当是预设定的枚举值之一";break;case"exclusiveMaximum":case"exclusiveMinimum":n="",o="".concat(r.params.comparison," ").concat(r.params.limit),n+="应当为 ".concat(o);break;case"false schema":n="布尔模式出错";break;case"format":n='应当匹配格式 "'.concat(r.params.format,'"');break;case"formatExclusiveMaximum":n="formatExclusiveMaximum 应当是布尔值";break;case"formatExclusiveMinimum":n="formatExclusiveMinimum 应当是布尔值";break;case"formatMaximum":case"formatMinimum":n="",o="".concat(r.params.comparison," ").concat(r.params.limit),n+="应当是 ".concat(o);break;case"if":n='应当匹配模式 "'.concat(r.params.failingKeyword,'" ');break;case"maximum":n="",o="".concat(r.params.comparison," ").concat(r.params.limit),n+="应当为 ".concat(o);break;case"maxItems":n="",a=r.params.limit,n+="不应多于 ".concat(a," 个项");break;case"maxLength":n="",a=r.params.limit,n+="不应多于 ".concat(a," 个字符");break;case"maxProperties":n="",a=r.params.limit,n+="不应有多于 ".concat(a," 个属性");break;case"minimum":n="",o="".concat(r.params.comparison," ").concat(r.params.limit),n+="应当为 ".concat(o);break;case"minItems":n="",a=r.params.limit,n+="不应少于 ".concat(a," 个项");break;case"minLength":n="",a=r.params.limit,n+="不应少于 ".concat(a," 个字符");break;case"minProperties":n="",a=r.params.limit,n+="不应有少于 ".concat(a," 个属性");break;case"multipleOf":n="应当是 ".concat(r.params.multipleOf," 的整数倍");break;case"not":n='不应当匹配 "not" schema';break;case"oneOf":n='只能匹配一个 "oneOf" 中的 schema';break;case"pattern":n='应当匹配模式 "'.concat(r.params.pattern,'"');break;case"patternRequired":n="应当有属性匹配模式 ".concat(r.params.missingPattern);break;case"propertyNames":n="属性名 '".concat(r.params.propertyName,"' 无效");break;case"required":n="应当有必需属性 ".concat(r.params.propertyNames);break;case"switch":n="由于 ".concat(r.params.caseIndex,' 失败，未通过 "switch" 校验, ');break;case"type":n="应当是 ".concat(r.params.type," 类型");break;case"uniqueItems":n="不应当含有重复项 (第 ".concat(r.params.j," 项与第 ").concat(r.params.i," 项是重复的)");break;default:continue}r.message=n}},getCurrentLocalize:function(){return this.$$currentLocalizeFn},useLocal:function(e){this.$$currentLocalizeFn=e}},Y=function(e){return t.defineComponent({inheritAttrs:!1,setup:function(n,a){var o=a.attrs,i=a.slots;return function(){var n=o.isNumberValue,a=o.isRange,u=o.value,l=S(o,["isNumberValue","isRange","value"]),c=n?a?(u||[]).map((function(e){return"number"==typeof e?String(e):e})):"number"==typeof u?String(u):u:u,s=P(P({},o),{},{value:c,"onUpdate:value":function(e){n&&(e=a?e.map((function(e){return+e})):+e),l["onUpdate:value"].call(this,e)}});return t.h(r.resolveComponent(e),s,i)}}})},J={name:"CheckboxesWidget",props:{enumOptions:{default:function(){return[]},type:[Array]}},setup:function(e,n){var a=n.attrs;return function(){return t.h(r.resolveComponent("a-checkbox-group"),a,{default:function(){return e.enumOptions.map((function(e,n){return t.h(r.resolveComponent("a-checkbox"),{key:n,value:e.value},{default:function(){return e.label}})}))}})}}},K=r.modelValueComponent(J,{model:"value"}),Q={name:"RadioWidget",props:{enumOptions:{default:function(){return[]},type:[Array]}},setup:function(e,n){var a=n.attrs;return function(){return t.h(r.resolveComponent("a-radio-group"),a,{default:function(){return e.enumOptions.map((function(e,n){return t.h(r.resolveComponent("a-radio"),{key:n,value:e.value},{default:function(){return e.label}})}))}})}}},Z=r.modelValueComponent(Q,{model:"value"}),X={name:"SelectWidget",props:{enumOptions:{default:function(){return[]},type:[Array]}},setup:function(e,n){var a,o=n.attrs,i=!0;return e.enumOptions.length>0&&(a=e.enumOptions,i=!(["自定义输入","日期"].includes(a[0].label)&&0===a[0].value&&["固有选项","日期（时分秒）"].includes(a[1].label)&&1===a[1].value)),function(){return t.h(r.resolveComponent("a-select"),P(P(P({},o.multiple?{mode:"multiple"}:{}),o),{},{showSearch:i,filterOption:ee,allowClear:i}),{default:function(){return e.enumOptions.map((function(e,n){return t.h(r.resolveComponent("a-select-option"),{key:e.label,value:e.value},{default:function(){return e.label}})}))}})}}};function ee(e,t){return t.key.indexOf(e)>=0}var te=r.modelValueComponent(X,{model:"value"}),re=Y({name:"DatePickerWidget",inheritAttrs:!1,setup:function(e,n){var a=n.attrs;return function(){var e=a.isNumberValue,n=a.isRange,o=S(a,["isNumberValue","isRange"]);return t.h(r.resolveComponent(n?"a-range-picker":"a-date-picker"),P({valueFormat:e?"x":"YYYY-MM-DD"},o))}}}),ne=r.modelValueComponent(re,{model:"value"}),ae=Y({name:"DatePickerWidget",inheritAttrs:!1,setup:function(e,n){var a=n.attrs;return function(){var e=a.isNumberValue,n=a.isRange,o=S(a,["isNumberValue","isRange"]);return t.h(r.resolveComponent(n?"a-range-picker":"a-date-picker"),P({valueFormat:e?"x":"YYYY-MM-DDTHH:mm:ssZ",showTime:!0},o))}}}),oe=r.modelValueComponent(ae,{model:"value"}),ie={name:"TimePickerWidget",inheritAttrs:!1,setup:function(e,n){var a=n.attrs;return function(){return t.h(r.resolveComponent("a-time-picker"),P({"value-format":"HH:mm:ss"},a))}}},ue={CheckboxesWidget:K,RadioWidget:Z,SelectWidget:te,TimePickerWidget:r.modelValueComponent(ie,{model:"value"}),DatePickerWidget:ne,DateTimePickerWidget:oe,UploadWidget:{name:"UploadWidget",props:{modelValue:{default:null,type:[String,Array]},responseFileUrl:{default:function(){return function(e){return e?e.url||e.data&&e.data.url:""}},type:[Function]},btnText:{type:String,default:"点击上传"},slots:{type:null,default:null}},inheritAttrs:!1,setup:function(e,n){var a=n.attrs,o=n.emit,i=e.modelValue,u=Array.isArray(i),l=a.fileList||(u?i.map((function(e,t){return{uid:String(t),status:"done",name:"已上传文件（".concat(t+1,"）"),url:e}})):i?[{uid:"1",status:"done",name:"已上传文件",url:i}]:[]),c=t.ref(l),s=function(t){return t&&(t.response&&e.responseFileUrl(t.response)||t.url)||""};return function(){return t.h(r.resolveComponent("a-upload"),P(P({},a),{},{fileList:c.value,"onUpdate:fileList":function(e){c.value=e},onChange:function(e){"uploading"!==e.file.status&&function(e){var t;if(u)t=e.length?e.reduce((function(e,t){var r=s(t);return r&&(t.url=r,e.push(r)),e}),[]):[];else{var r=e[e.length-1];t=s(r),r&&t?(r.url=t,c.value=[r]):c.value=[]}o("update:modelValue",t)}(e.fileList),a.onChange&&a.onChange.call(this,e)}}),P({default:function(){return t.h(r.resolveComponent("a-button"),{type:"primary"},{default:function(){return e.btnText}})}},e.slots||{}))}}},InputWidget:r.modelValueComponent("a-input"),ColorWidget:{setup:function(e,r){var n=r.attrs;return function(){return t.h(ue.InputWidget,P(P({},n),{},{style:P(P({},n.style||{}),{},{maxWidth:"180px"})}),{addonAfter:function(){return t.h("input",{disabled:n.disabled,readonly:n.readonly,value:n.modelValue,onInput:function(e){n["onUpdate:modelValue"](e.target.value)},onChange:function(e){n["onUpdate:modelValue"](e.target.value)},type:"color",style:{padding:"0",width:"50px"}})}})}}},TextAreaWidget:r.modelValueComponent("a-textarea"),InputNumberWidget:r.modelValueComponent("a-input-number"),AutoCompleteWidget:r.modelValueComponent("a-auto-complete"),SliderWidget:r.modelValueComponent("a-slider"),RateWidget:r.modelValueComponent("a-rate"),SwitchWidget:r.modelValueComponent("a-switch",{model:"checked"})},le=ue.InputWidget,ce=ue.InputNumberWidget,se=ue.SwitchWidget,me=ue.CheckboxesWidget,de=ue.RadioWidget,pe=ue.SelectWidget,fe=ue.TimePickerWidget,he=ue.DatePickerWidget,ve=ue.DateTimePickerWidget,ye={types:{boolean:se,string:le,number:ce,integer:ce},formats:{color:ue.ColorWidget,time:fe,date:he,"date-time":ve},common:{select:pe,radioGroup:de,checkboxGroup:me},widgetComponents:ue};!function(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css","top"===r&&n.firstChild?n.insertBefore(a,n.firstChild):n.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}}(".genFromComponent.ant-form-vertical .ant-form-item-label{line-height:26px;padding-bottom:6px;font-size:14px}.genFromComponent .ant-form-item{margin-bottom:22px}.genFromComponent .ant-form-item.ant-form-item-with-help{margin-bottom:2px}.genFromComponent .ant-form-explain{padding-top:2px;display:-webkit-box!important;text-overflow:ellipsis;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2;white-space:normal;text-align:left;line-height:1.2;font-size:12px}.genFromComponent .validateWidget .ant-form-explain{padding:5px 0;position:relative}.genFromComponent .ant-form-item-label>label.ant-form-item-no-colon:after{display:none}.genFromComponent .validateWidget>.ant-form-item{margin-bottom:0!important;padding:0!important}.genFromComponent .validateWidget>.ant-form-item .formItemErrorBox{padding:5px 0;position:relative}");var ge={WIDGET_MAP:ye,COMPONENT_MAP:{form:t.defineComponent({inheritAttrs:!1,setup:function(e,n){var a=n.attrs,o=n.slots,i={top:{layout:"vertical"},left:{layout:"horizontal",labelAlign:"left"},right:{layout:"horizontal",labelAlign:"right"}},u=t.ref(null);return a.setFormRef&&t.onMounted((function(){u.value.$$validate=function(e){u.value.validate().then((function(t){e(!0,t)})).catch((function(t){e(!1,t.errorFields)}))},a.setFormRef(u.value)})),function(){a.setFormRef;var e=a.labelPosition;a.labelWidth;var n=a.model,l=S(a,["setFormRef","labelPosition","labelWidth","model"]);return l.inline&&Object.assign(l,{layout:"inline"}),t.h(r.resolveComponent("a-form"),P(P(P({ref:u,model:n.value},i[e||"top"]),l),{},{colon:!1}),o)}}}),formItem:t.defineComponent({inheritAttrs:!1,setup:function(e,n){var a=n.attrs,o=n.slots,i=t.ref(null);return function(){var e=a.prop,n=a.rules,u=a.description,l=S(a,["prop","rules","description"]);return t.h(r.resolveComponent("a-form-item"),P(P({},l),{},{ref:i,tooltip:u||"",rules:(n||[]).map((function(e){return P(P({},e),{},{validator:function(t,r){return e.validator.apply(this,[t,r])}})})),name:e?e.split("."):e}),P(P({},o),{},{default:function(){return o.default.call(this,{onBlur:function(){i.value.$el.querySelector(".genFromWidget_des")&&i.value.onFieldBlur()},onChange:function(){i.value.$el.querySelector(".genFromWidget_des")&&i.value.onFieldChange()}})}}))}}}),button:"a-button",popover:t.defineComponent({setup:function(e,n){var a=n.attrs,o=n.slots;return function(){return t.h(r.resolveComponent("a-popover"),a,{default:o.reference,content:o.default})}}})},HELPERS:{isMiniDes:function(e){return e&&(["left","right"].includes(e.labelPosition)||"horizontal"===e.layout||!0===e.inline)}}},be=z(ge),Oe=z(P(P({},ge),{},{COMPONENT_MAP:P(P({},ge.COMPONENT_MAP),{},{formItem:t.defineComponent({inheritAttrs:!1,setup:function(e,r){var n=r.attrs,a=r.slots;return function(){var e=n.style,r=n.class,o=S(n,["style","class"]);return t.h("div",{style:e,class:r},[t.h(ge.COMPONENT_MAP.formItem,o,a)])}}})})}));Object.defineProperty(e,"modelValueComponent",{enumerable:!0,get:function(){return r.modelValueComponent}}),e.vueUtils=p,Object.defineProperty(e,"getDefaultFormState",{enumerable:!0,get:function(){return f.default}}),e.formUtils=h,e.schemaValidate=g,e.JsonSchemaFormAntdV4=Oe,e.SchemaField=$,e.default=be,e.fieldProps=I,e.globalOptions=ge,e.i18n=H,Object.defineProperty(e,"__esModule",{value:!0})}));
