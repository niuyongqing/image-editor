<template>
 <div style="display: flex;">
   <div style="width: 60px; height: 100%; background: #ffffff; border: 1px solid #e4e4e4; border-radius: 10px; display: flex; flex-direction: column;">
     <div v-for="item in menu" :key="item.id" style="width: 55px; cursor: pointer; height: 80px; border-radius: 10px" @click="check(item)">
       <div style="margin-top: 10px; display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100%;">
         <div>
           <div v-html="item.icon"></div>
           <div :style="{ fontWeight: item.select ? 'bolder' : '', color: item.select ? DefaultSetting.colorPrimary : '#b3b3b3' }">{{ item.title }}</div>
         </div>
       </div>
     </div>
     <div style="flex-grow: 1;"></div>
     <div style="margin-bottom: 10px; display: flex; justify-content: center;cursor: pointer">
       <div style="margin-top: 10px; display: flex; flex-direction: column; justify-content: center; align-items: center; height: 100%;" @click="save">
         <async-icon icon="SaveOutlined" size="25px"></async-icon>
         <span>保存</span>
       </div>
     </div>
   </div>

   <a-card>
     <adjust-component v-show="current.id === 1" style="width: 240px"></adjust-component>
     <draw-component v-show="current.id === 2"  style="width: 240px"></draw-component>
     <frame-component v-show="current.id === 4"  style="width: 240px"></frame-component>
     <mark-component v-show="current.id === 6"  style="width: 240px"></mark-component>
     <material-component v-show="current.id === 5"  style="width: 240px"></material-component>
     <text-component v-show="current.id === 3"  style="width: 240px"></text-component>
   </a-card>
   <painting-component :img-url="imgUrl" :canvas-height="canvasHeight" :canvas-width="canvasWidth" style="margin-left: 10px"></painting-component>
 </div>
</template>
<script setup lang="js">
import {ref} from 'vue'
import AsyncIcon from "~/layouts/components/menu/async-icon.vue";
import PaintingComponent from "~/components/process-pictures/component/painting/index.vue";
import FrameComponent from "~/components/process-pictures/component/frame/index.vue";
import AdjustComponent from "~/components/process-pictures/component/adjust/index.vue";
import DrawComponent from "~/components/process-pictures/component/draw/index.vue";
import MarkComponent from "~/components/process-pictures/component/mark/index.vue";
import MaterialComponent from "~/components/process-pictures/component/material/index.vue";
import TextComponent from "~/components/process-pictures/component/text/index.vue";
import DefaultSetting from "~/config/default-setting.js";
import {usePsStore} from "~/stores/ps.js";
const canvasHeight = ref(window.innerHeight - 100);
const canvasWidth = ref(window.innerWidth  - 420);

const emit = defineEmits(['save'])
const current = ref({});
const menu = ref([
  {
    id:1,
    title:"调整",
    icon:"<svg t=\"1734075082265\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"51140\" width=\"20\" height=\"20\"><path d=\"M5.298087 0H1024v1022.901797H5.298087z\" fill=\"#FFFFFF\" p-id=\"51141\"></path><path d=\"M0 0.912696h1018.88742V1024H0z\" fill=\"#FFFFFF\" opacity=\".5\" p-id=\"51142\"></path><path d=\"M917.170087 293.962203a15.434203 15.434203 0 0 0 0-22.26087L525.764638 109.605101a43.27513 43.27513 0 0 0-34.719537 0l-385.113043 165.272116a19.174029 19.174029 0 0 0-3.161044 12.710957c0 3.183304 3.146203 9.542493 6.322087 9.542493l394.559073 165.264695c12.614493 6.351768 9.46829 6.351768 22.082783 0z m-400.265275 29.681159v-33.53971c0-1.80313-1.587942-1.80313-3.020058-1.80313a188.304696 188.304696 0 0 0-18.973682 0 159.254261 159.254261 0 0 0-17.192811 1.80313 141.542029 141.542029 0 0 0-15.389681 3.264928 116.72858 116.72858 0 0 0-13.56429 4.526377 86.542841 86.542841 0 0 0-12.050551 5.735884c-3.628522 2.099942-6.945391 4.222145-10.559072 6.67826a91.417971 91.417971 0 0 0-9.060174 7.249624c-2.730667 2.404174-5.12742 5.11258-7.546435 7.524174a53.670957 53.670957 0 0 0-6.329507 7.850666c-1.78829 2.708406-3.613681 5.12-5.401971 8.162319a66.56 66.56 0 0 0-4.229566 7.850667 58.449623 58.449623 0 0 0-3.316869 7.553855c-0.905275 2.419014-1.80313 4.526377-2.715826 6.930551-0.601043 2.114783-1.216928 3.932754-1.817971 6.040115a30.371246 30.371246 0 0 0-1.187247 5.127421c-0.311652 1.209507-0.615884 2.708406-0.912695 3.932753 0 0.912696-0.296812 1.817971-0.296812 2.426435a0.934957 0.934957 0 0 0 0 0.905276 208.851478 208.851478 0 0 1 4.815768-98.689856C411.373449 202.573913 495.207884 207.404522 495.207884 207.404522h18.966261c1.587942 0 2.404174 0 2.404174-1.810551v-36.797217a8.637217 8.637217 0 0 1 6.314667-10.321624 8.206841 8.206841 0 0 1 8.162318 2.767769l107.965218 74.855884a11.419826 11.419826 0 0 1 4.979014 15.063188 11.056232 11.056232 0 0 1-4.979014 5.149681v0.051942L531.366957 331.226899c-8.132638 5.357449-14.462145 2.04058-14.462145-7.613218z m-44.78887 167.40916l-375.615072-158.912928a16.324638 16.324638 0 0 0-12.614493 6.359189c0 3.168464-3.161043 9.535072-3.161044 12.703536v381.402898c0 3.183304-3.146203 9.535072 18.93658 19.062725l375.622493 177.983072a20.435478 20.435478 0 0 0 18.929159-19.070144V519.620638c-3.161043-9.535072-3.161043-19.070145-22.097623-28.597797z m-110.480696 66.782608v22.26087c0 3.190725-3.161043 9.549913-9.468289 6.366609-47.34887-22.26087-94.705159-41.308754-145.192812-63.554783-6.314667-3.183304-12.614493-6.351768-12.614493-12.718377v-41.405217c0-6.359188 3.161043-12.718377 9.46829-9.542493l148.361275 66.782609c12.636754 6.322087 9.446029 6.322087 9.446029 31.729159z m580.778667-219.306666a23.744928 23.744928 0 0 0-12.614493-6.359189L554.191768 491.082203c-18.944 6.351768-18.944 15.87942-18.944 25.429333v394.091594a20.450319 20.450319 0 0 0 18.944 19.070145l375.607652-197.060637c15.790377-9.520232 18.95142-25.421913 18.951421-47.667942V351.172638a16.532406 16.532406 0 0 0-6.336928-12.703537z\" fill=\"#FCA61D\" p-id=\"51143\"></path></svg>",
    iconChick:"ControlOutlined",
    select:true,
  },
  {
    id:2,
    title: "绘制",
    icon:"<svg t=\"1734074894655\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"35901\" width=\"20\" height=\"20\"><path d=\"M526.30497 295.718788L739.917576 108.606061a73.681455 73.681455 0 0 1 94.906182-1.846303 71.214545 71.214545 0 0 1 16.135757 92.16l-147.580121 244.208484a93.090909 93.090909 0 0 1-138.24 24.203637l-36.103758-29.230546a93.090909 93.090909 0 0 1-2.746181-142.36703z\" fill=\"#FFCA6E\" p-id=\"35902\"></path><path d=\"M186.181818 586.20897c45.381818 46.498909 90.763636 7.757576 136.145455-116.255031 68.080485-186.011152 365.661091-196.468364 387.056485 0 21.410909 196.452848-126.448485 329.526303-302.126546 302.266182C290.117818 754.036364 216.436364 692.037818 186.181818 586.20897z\" fill=\"#FF741A\" p-id=\"35903\"></path><path d=\"M496.469333 330.007273c91.415273-15.84097 186.461091 21.752242 209.097697 117.511757l-9.945212 15.406546a93.090909 93.090909 0 0 1-136.812606 21.876363l-41.611636-33.698909A93.106424 93.106424 0 0 1 496.484848 330.007273z\" fill=\"#E94D00\" p-id=\"35904\"></path><path d=\"M515.428848 677.469091a108.652606 108.652606 0 0 1-199.71103-15.856485l0.108606-0.03103a31.030303 31.030303 0 0 1 59.593697-17.314909 46.56097 46.56097 0 0 0 85.426424 3.599515l0.108607 0.046545a31.030303 31.030303 0 1 1 54.473696 29.556364z\" fill=\"#EBF1F7\" p-id=\"35905\"></path><path d=\"M77.575758 807.020606h744.727272v93.090909H77.575758z\" fill=\"#FFCA6E\" p-id=\"35906\"></path></svg>",
    iconChick:"HighlightOutlined",
    select:false
  },
  {
    id:3,
    title: "文本",
    icon:"<svg t=\"1734074929925\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"37889\" width=\"20\" height=\"20\"><path d=\"M235.46654 308.353398v249.397513H39.548923v-179.50965c0-38.589925 31.295939-69.887864 69.887863-69.887863h35.72593z\" fill=\"#BED8FB\" p-id=\"37890\"></path><path d=\"M984.451077 393.055232v548.776928c0 45.389911-36.777928 82.16784-82.145839 82.16784H227.330556c-38.775924 0-71.267861-26.867948-79.901844-63.005877l-0.329999-46.975908-1.915997-279.755454V82.16784C145.184716 36.777928 181.962645 0 227.330556 0h364.065289c32.717936 0 138.681729 90.345824 232.345546 185.493638 85.465833 86.84383 160.709686 177.685653 160.709686 207.561594z\" fill=\"#DDEAFB\" p-id=\"37891\"></path><path d=\"M984.451077 393.055232v201.029608c0-0.226-0.02-0.453999-0.02-0.699999C978.249089 346.719323 777.323482 335.305345 711.61961 269.599473l112.123781-84.103835c85.463833 86.84183 160.707686 177.683653 160.707686 207.559594z\" fill=\"#CBE2FF\" p-id=\"37892\"></path><path d=\"M591.385845 0H390.356238c0.226 0 0.453999 0.02 0.699998 0.02 246.665518 6.181988 258.079496 207.107595 323.785368 272.811467l84.103836-112.123781C712.101609 75.243853 621.259787 0 591.385845 0z\" fill=\"#CBE2FF\" p-id=\"37893\"></path><path d=\"M984.449077 393.065232v34.753932c0-73.171857-59.335884-132.505741-132.505741-132.505741h-80.647842c-45.367911 0-82.16184-36.793928-82.16184-82.161839V132.505741C689.133654 59.333884 629.79977 0 556.627913 0h34.753932c62.579878 0 122.615761 24.865951 166.865674 69.113865l157.085693 157.085693a236.007539 236.007539 0 0 1 69.115865 166.865674z\" fill=\"#BED8FB\" p-id=\"37894\"></path><path d=\"M701.41163 621.816786v184.27764c0 59.605884-48.315906 107.921789-107.921789 107.921789H147.092713l-1.915997-279.755454v-120.365765h448.313125c59.605884 0 107.921789 48.313906 107.921789 107.92179z\" fill=\"#CBE2FF\" p-id=\"37895\"></path><path d=\"M771.297494 556.048914v184.27764c0 59.605884-48.315906 107.921789-107.92179 107.921789H109.448786c-2.079996 0-4.119992-0.082-6.159988-0.287999-35.70593-3.089994-63.725876-33.067935-63.725875-69.599864v-400.119219c0 19.285962 7.829985 36.755928 20.47996 49.407904 11.269978 11.289978 26.393948 18.749963 43.245915 20.19196 2.039996 0.206 4.079992 0.287999 6.159988 0.288h553.926918c59.607884-0.002 107.921789 48.313906 107.92179 107.919789z\" fill=\"#C67D66\" p-id=\"37896\"></path><path d=\"M103.288798 447.839125v400.121219c-35.70593-3.089994-63.725876-33.067935-63.725875-69.599864v-400.119219c0 19.285962 7.829985 36.755928 20.47996 49.407904 11.269978 11.289978 26.391948 18.747963 43.245915 20.18996z\" fill=\"#AA593D\" p-id=\"37897\"></path><path d=\"M447.262126 640.880748l58.001887-82.331839A15.45197 15.45197 0 0 0 480.000062 540.750944l-51.625899 73.281857-51.545899-73.273857a15.45197 15.45197 0 1 0-25.275951 17.781965l57.915887 82.327839-67.827867 96.283812a15.44997 15.44997 0 0 0 12.617975 24.351953 15.42797 15.42797 0 0 0 12.645975-6.553988l61.45388-87.231829 61.359881 87.22383a15.43197 15.43197 0 0 0 12.651975 6.561987 15.45197 15.45197 0 0 0 12.623975-24.343953zM306.712401 534.196957H198.248613a15.45197 15.45197 0 1 0 0 30.903939h38.561924v180.949647a15.45197 15.45197 0 1 0 30.90394 0v-180.949647h38.997924c8.535983 0 15.45197-6.917986 15.45197-15.45197s-6.915986-15.45197-15.45197-15.451969zM658.377714 534.196957h-108.463788a15.45197 15.45197 0 1 0 0 30.903939h38.561925v180.949647a15.45197 15.45197 0 1 0 30.903939 0v-180.949647h38.997924c8.535983 0 15.45197-6.917986 15.45197-15.45197s-6.915986-15.45197-15.45197-15.451969z\" fill=\"#475959\" p-id=\"37898\"></path></svg>",
    iconChick:"FileTextOutlined",
    select:false
  },
  {
    id:4,
    title: "边框",
    icon:"<svg t=\"1734074979448\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"43514\" width=\"20\" height=\"20\"><path d=\"M512 682.666667l-56.888889-45.511111s73.955556-79.644444 11.377778-153.6c0 0-22.755556-28.444444 45.511111-91.022223 68.266667 62.577778 45.511111 91.022222 45.511111 91.022223-62.577778 68.266667 11.377778 147.911111 11.377778 147.911111L512 682.666667zM426.666667 443.733333C443.733333 369.777778 512 347.022222 512 347.022222c5.688889 0 68.266667 28.444444 85.333333 96.711111 0 0 56.888889-45.511111 96.711111 34.133334 0 0-11.377778 28.444444-28.444444 17.066666-11.377778-11.377778-28.444444-28.444444-45.511111-5.688889-17.066667 22.755556 51.2 79.644444 91.022222 39.822223 45.511111-39.822222 28.444444-136.533333-91.022222-153.6 0 0 5.688889-39.822222-22.755556-62.577778C580.266667 278.755556 517.688889 227.555556 512 227.555556c-5.688889 0-68.266667 51.2-96.711111 79.644444-28.444444 22.755556-17.066667 62.577778-17.066667 62.577778-119.466667 17.066667-130.844444 113.777778-85.333333 153.6 45.511111 39.822222 108.088889-17.066667 91.022222-39.822222-22.755556-22.755556-34.133333-5.688889-45.511111 5.688888-17.066667 17.066667-28.444444-11.377778-28.444444-11.377777 39.822222-79.644444 96.711111-34.133333 96.711111-34.133334z m477.866666 227.555556s28.444444-68.266667-51.2-125.155556c-85.333333-45.511111-142.222222 51.2-113.777777 91.022223 34.133333 39.822222 51.2 0 51.2 0-39.822222-28.444444-22.755556-85.333333 34.133333-68.266667 56.888889 34.133333 56.888889 130.844444-34.133333 142.222222-91.022222 11.377778-119.466667-73.955556-119.466667-73.955555s-45.511111-5.688889-85.333333-45.511112c-45.511111-51.2-5.688889-79.644444-5.688889-79.644444 56.888889 96.711111 182.044444 62.577778 193.422222-51.2C762.311111 341.333333 648.533333 341.333333 648.533333 341.333333s11.377778-45.511111-34.133333-79.644444C563.2 221.866667 523.377778 182.044444 512 170.666667c0 0-51.2 51.2-108.088889 96.711111-45.511111 39.822222-34.133333 85.333333-34.133333 85.333333s-119.466667 0-125.155556 119.466667c11.377778 113.777778 136.533333 142.222222 193.422222 51.2 0 0 34.133333 28.444444-5.688888 79.644444-39.822222 39.822222-85.333333 45.511111-85.333334 45.511111s-28.444444 85.333333-113.777778 73.955556c-91.022222-11.377778-91.022222-108.088889-34.133333-142.222222 51.2-17.066667 73.955556 34.133333 34.133333 62.577777 0 0 22.755556 34.133333 56.888889 0 34.133333-39.822222-22.755556-130.844444-113.777777-91.022222-79.644444 56.888889-51.2 125.155556-51.2 125.155556S34.133333 671.288889 0 756.622222c0 0 5.688889 34.133333 56.888889-11.377778 45.511111-45.511111 79.644444-45.511111 102.4-28.444444 17.066667 17.066667 125.155556 91.022222 221.866667-45.511111 0 0 39.822222-28.444444 56.888888-11.377778 5.688889 22.755556 68.266667 79.644444 73.955556 85.333333 0 0 68.266667-68.266667 79.644444-85.333333 17.066667-17.066667 51.2 11.377778 51.2 11.377778 96.711111 136.533333 204.8 62.577778 221.866667 45.511111 17.066667-17.066667 51.2-17.066667 102.4 28.444444 45.511111 45.511111 56.888889 11.377778 56.888889 11.377778-34.133333-85.333333-119.466667-85.333333-119.466667-85.333333z\" fill=\"#E50012\" p-id=\"43515\"></path></svg>",
    iconChick:"LayoutOutlined",
    select:false
  },
  {
    id:5,
    title: "素材",
    icon:"<svg t=\"1734075027223\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"46997\" width=\"20\" height=\"20\"><path d=\"M798.752 992H57.904a25.888 25.888 0 0 1-24.992-32.672l168.288-461.296c3.04-11.28 13.28-19.136 25.008-19.136H967.04c17.04 0 24.992 16.304 24.992 32.672L823.744 972.88A25.872 25.872 0 0 1 798.752 992z\" fill=\"#FCCE5C\" p-id=\"46998\"></path><path d=\"M201.184 498.032c3.04-11.28 13.28-19.136 25.008-19.136h567.2V280.288L545.104 32H164.416v566.816l36.768-100.784z\" fill=\"#F1F4FB\" p-id=\"46999\"></path><path d=\"M864.032 329.936h-70.64v148.96h99.312v-120.304c0-15.84-12.864-28.656-28.672-28.656z m-699.616-115.872H60.688c-15.824 0-28.688 12.832-28.688 28.672v707.216c1.136 0.032 2.288 0.112 3.408 0.192l129.008-351.872V214.064z\" fill=\"#EFBA43\" p-id=\"47000\"></path><path d=\"M445.792 296.832H280.304a16.56 16.56 0 1 1 0-33.104h165.504a16.56 16.56 0 0 1-0.016 33.104z m0-115.856H280.304a16.56 16.56 0 1 1 0-33.088h165.504a16.544 16.544 0 1 1-0.016 33.088z m231.744 231.712H280.304a16.576 16.576 0 0 1-16.592-16.528c0-9.136 7.424-16.56 16.56-16.576h397.264a16.544 16.544 0 0 1 0.032 33.104h-0.032z\" fill=\"#ACABB1\" p-id=\"47001\"></path><path d=\"M545.104 280.288h248.288L545.104 32v248.288z\" fill=\"#E2E2E2\" p-id=\"47002\"></path></svg>",
    iconChick:"SlackOutlined",
    select:false
  },
  {
    id:6,
    title: "水印",
    icon:"<svg t=\"1734075052828\" class=\"icon\" viewBox=\"0 0 1024 1024\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" p-id=\"48994\" width=\"20\" height=\"20\"><path d=\"M125.248 515.84c-10.816 10.752-16.192 23.68-21.568 38.272l-37.76 125.76c-5.44 32.896 0 67.968 26.944 92.288a81.28 81.28 0 0 0 86.4 22.656l124.032-37.76c10.88-4.352 27.008-12.416 37.76-23.232l340.032-351.296 37.76 45.888-59.328 60.992a49.92 49.92 0 0 0 0 65.28c16.192 17.792 48.512 17.792 64.704 0l86.4-92.288a43.136 43.136 0 0 0 5.376-63.68l-75.52-81.472c48.512-60.992 48.512-151.104-5.44-208.32a152.128 152.128 0 0 0-215.872 0L125.248 515.84z m545.024-341.632c21.632 19.968 21.632 49.664 10.816 72.896l-75.52-86.4c21.568-9.152 48.512-4.8 64.704 13.504z m-48.576 140.352L540.8 222.72l-296.832 302.72 86.4 87.424 291.328-298.368z m-437.12 281.152v5.376l-32.32 105.792 102.528-31.872 5.376-1.6-75.52-77.696z\" fill=\"#474B5F\" p-id=\"48995\"></path><path d=\"M200.768 936.768c32.384 1.6 70.208-6.528 102.528-17.856a554.752 554.752 0 0 0 97.152-40.448c10.816-4.288 21.632-8.64 27.008-12.928 5.376 4.288 5.376 8.064 5.376 11.84-5.376 2.688-5.376 6.464-10.752 12.416-5.44 5.952-5.44 16.192-5.44 28.608a36.48 36.48 0 0 0 10.816 26.432c10.752 8.64 21.568 11.904 21.568 12.416 0 1.088 5.376 1.6 5.376 1.6 5.44 1.088 10.88 1.088 16.192 1.088 5.44 0 21.632-1.6 32.384-9.728 10.816-2.688 27.008-5.888 43.2-9.664 21.568-6.528 53.952-15.104 75.52-26.432a116.48 116.48 0 0 0 37.76-22.144c5.44 10.24 10.88 21.568 10.88 30.208 0 13.44 10.752 25.344 21.568 31.808 10.752 7.04 26.944 7.616 37.76 2.176v-0.512l5.376-0.576 5.376-2.112c5.44-2.176 10.816-5.44 21.632-8.64 16.192-7.552 37.76-16.768 59.328-26.432 27.008-9.728 48.64-18.944 64.768-25.92 10.816-3.84 21.568-6.464 27.008-8.128 0-1.088 5.376-1.6 5.376-1.6 21.568-1.6 43.2-21.568 43.2-45.888 0-25.344-21.632-46.4-48.64-46.4-5.376 0-21.568 3.2-26.944 5.376-5.376 2.176-16.192 5.952-27.008 9.728-21.568 7.552-48.512 17.28-70.144 27.008-16.192 7.04-32.384 13.44-48.576 19.392a568.192 568.192 0 0 0-16.192-38.848c-5.376-7.04-10.752-15.104-16.192-21.568a56.768 56.768 0 0 0-32.32-17.792c-21.632-3.2-37.76 3.2-48.64 15.104-10.752 9.152-16.128 19.968-21.568 29.696v1.024c0 2.752-10.752 6.528-16.192 10.88-21.568 8.064-43.136 15.04-64.704 20.992l-5.44 1.088v-5.376c-5.376-11.392-10.752-18.944-10.752-25.92v-1.088-4.864c5.376-3.2 10.752-19.968 0-38.848a44.16 44.16 0 0 0-37.76-27.008c-5.44-0.512-10.88 1.088-16.256 1.664-5.376 2.112-16.192 7.04-21.568 10.24-10.752 3.2-16.192 7.04-21.568 10.752-16.192 7.04-27.008 14.592-48.576 23.744-27.008 12.992-53.952 25.92-86.4 35.648-26.88 9.728-53.888 14.592-75.52 13.44-21.568-1.024-43.136 18.368-43.136 43.776-5.376 25.344 16.192 46.912 43.136 48.576z\" fill=\"#E64C62\" p-id=\"48996\"></path></svg>",
    iconChick:"BulbOutlined",
    select:false
  }
])
function check(item) {
  current.value = item;
  item.select = true
  menu.value.filter((v) => v.id !== item.id).map((m)=>m.select = false)
}
const props =  defineProps({
  imgUrl:{type:String,required:true},
})
const updateCanvasSize = () => {
  canvasHeight.value = window.innerHeight - 200;
  canvasWidth.value = window.innerWidth - 300;
};
onMounted(() => {
  current.value = menu.value[0];
  window.addEventListener('resize', updateCanvasSize);
});
onUnmounted(() => {
  usePsStore().FabricCanvas.value = null;
  usePsStore().FabricImage.value = null;
  window.removeEventListener('resize', updateCanvasSize);
});

function save(){
  emit('save',usePsStore().Props.value.imgUrl)
}
</script>

<style scoped lang="less">
.border{
  border-style: dotted;border-width: 1px;border-color: #a7a7a8;margin: 5px;
}
</style>